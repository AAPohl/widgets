 /**
* -----------------------------------------------------------------------------
* @package smartVISU
* @author raman
* @copyright 2023
* @license GPL [http://www.gnu.de]
* -----------------------------------------------------------------------------
*/ 

/**
* a roof window with open/tilted/closed status and shutter
*
* @param {id=} unique id for this widget
* @param {item(num)} an item for the height of the shutter blades
* @param {item(num,str)=} an item for the roof window wing status (0/'closed', 1/'tilted', 2/'open') (optional, default = 0) 
* @param {value=0} the value for shutter on top end (optional, default 0)
* @param {value=255} the value for shutter at bottom end (optional, default 255)
* @param {color[?](icon0to5,!)=icon1} color for 'open' state e.g. 'icon0' through 'icon5' or '#f00' for red. Prepend a '!' to make the color constant ('!icon3'). Color is 'icon0' if window is closed and constant color is not forced. (optional)
*
* @author: raman
*/
{% macro roofwindow(id, item_value, item_window, min, max, color) %}
{% if color is empty %}{% set color = ['icon0', 'icon1'] %}{% endif %}
{% if color is not iterable %}{% set color = ['icon0', color] %}{% endif %}
<svg role="img" {% if id is not empty %}id="{{ uid(page, id) }}"{% endif %} data-widget="roofwindow.roofwindow" data-item="{{ item_value }}, {{ item_window }}" data-min="{{ min|default('0') }}" data-max="{{ max|default('255') }}"
	 data-color="{{ implode(color) }}" class="icon icon0" 
	xmlns="http://www.w3.org/2000/svg" viewBox="20 20 321 321">
  <polyline class="icon0" id="blind" fill-opacity=".4" stroke-width="4" stroke-linecap="butt" points="156,100 279,100 203,264 80,264 156,100" />
  
  <path fill="none" stroke-width="10" d="m207.744,264.139c-2.091,4.48-7.4,8.113-11.861,8.113l-115.944,.023c-4.461,0-6.383-3.633-4.293-8.115l77.917-167.094c2.089-4.48 7.4-8.115 11.861-8.115l115.945-.023c4.459,0 6.381,3.634 4.292,8.115l-77.917,167.096z"/>
  <path d="m277.924,104.261-127.503,0 8.769-17.246 127.503,0z"/>
  <path d="m76.381,262.584h127.455v6.432h-127.455z"/>
  
  <path id="window0" fill="none" stroke-width="10" d="m201.967,246.192c-1.693,3.632-5.998,6.577-9.614,6.577l-90.915,.019c-3.616,0-5.174-2.945-3.479-6.578l59.546-127.698c1.694-3.632 6-6.578 9.615-6.578l90.915-.02c3.616,0 5.174,2.946 3.479,6.579l-59.547,127.699z"/>
  <path id="knob0" fill-opacity="1" d="m146.288,240.305c-.958,2.055-1.917,4.11-2.876,6.166-1.152,2.47-.717,5.37 1.794,6.841 2.186,1.28 5.689,.676 6.841-1.794 .958-2.055 1.917-4.11 2.876-6.166 1.152-2.47 .717-5.37-1.794-6.841-2.186-1.281-5.689-.676-6.841,1.794z"/>
  
  <path id="window1" fill="none" stroke-width="0" d="m182.773,241.17c-3.02,3.637-8.404,6.586-12.024,6.586l-91.039,.02c-3.621,0-4.107-2.949-1.087-6.587l103.161-121.862c3.019-3.636 8.404-6.585 12.024-6.585l84.344-.019-14.59,31.144-80.789,97.303z"/>
  <path id="knob1" fill-opacity="0" d="m129.036,234.268c-1.708,2.058-3.417,4.115-5.126,6.173-1.739,2.094-2.059,5.012 0,7.07 1.793,1.794 5.328,2.1 7.071,0 1.708-2.058 3.417-4.115 5.126-6.173 1.739-2.094 2.059-5.012 0-7.07-1.793-1.794-5.328-2.1-7.071,0z"/>
  
  <path id="window2" fill="none" stroke-width="0" d="m181.148,212.418c-3.23,1.883-8.786,3.408-12.406,3.408l-91.04,.01c-3.621,0-3.935-1.525-.704-3.408l113.591-66.168c3.23-1.882 8.787-3.409 12.407-3.409l61.312-.008-13.529,29.015-69.631,40.56z"/>
  <path id="knob2" fill-opacity="0" d="m128.62,206.358c-1.829,1.064-3.657,2.129-5.485,3.193-2.352,1.369-3.169,4.493-1.794,6.841 1.378,2.353 4.485,3.166 6.841,1.794 1.829-1.064 3.657-2.129 5.485-3.193 2.352-1.369 3.169-4.493 1.794-6.841-1.378-2.352-4.485-3.166-6.841-1.794z"/>
</svg>
{% endmacro %}
